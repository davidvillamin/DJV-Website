<!-- bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

<!--Our Values - Our Mission - Our Vision Text Clickable-->
<script>
    function updateNav(position, element, section) {
        // 1. Move the blue line
        const navLine = document.getElementById('nav-line');
        if (navLine) navLine.style.left = position;

        // 2. Reset navigation link colors
        const links = document.querySelectorAll('#custom-nav .nav-link');
        links.forEach(link => {
            link.classList.remove('text-info', 'fw-bold');
            link.classList.add('text-white-50');
        });

        // 3. Highlight current link
        element.classList.add('text-info', 'fw-bold');
        element.classList.remove('text-white-50');

        // 4. Get the containers
        const acronym = document.getElementById('acronym-container');
        const mission = document.getElementById('mission-content');
        const vision = document.getElementById('vision-content');

        // 5. HIDE ALL (Ensures no overlap and resets spacing)
        acronym.style.display = 'none';
        mission.style.display = 'none';
        vision.style.display = 'none';

        // 6. SHOW ONLY THE ONE CLICKED
        if (section === 'values') {
            acronym.style.display = 'flex'; // Flex for centering the acronym
        } else if (section === 'mission') {
            mission.style.display = 'block';
        } else if (section === 'vision') {
            vision.style.display = 'block';
        }
    }
</script>

<!-- Tech Support Modal Script -->
<script>
    const techSupportBtn = document.getElementById('nav-tech-support');
    const techSupportModal = document.getElementById('techSupportModal');
    const modalCloseBtn = document.getElementById('techSupportModalCloseBtn');
    const messageOption = document.getElementById('messageOption');
    const callOption = document.getElementById('callOption');
    const emailOption = document.getElementById('emailOption');

    // Open modal when button is clicked
    if (techSupportBtn) {
        techSupportBtn.addEventListener('click', function() {
            techSupportModal.classList.add('active');
        });
    }

    // Inquire Now buttons (on service cards) should also open the tech support modal
    const inquireButtons = document.querySelectorAll('.inquire-btn');
    if (inquireButtons && inquireButtons.length) {
        inquireButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                techSupportModal.classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    }

    // Close modal when close button is clicked
    if (modalCloseBtn) {
        modalCloseBtn.addEventListener('click', function() {
            techSupportModal.classList.remove('active');
        });
    }

    // Close modal when clicking on overlay
    if (techSupportModal) {
        techSupportModal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
    }

    // Get the second and third modals
    const messageModal = document.getElementById('messageModal');
    const callModal = document.getElementById('callModal');
    const emailModal = document.getElementById('emailModal');
    const messageModalCloseBtn = document.getElementById('messageModalCloseBtn');
    const messageBackBtn = document.getElementById('messageBackBtn');
    const callModalCloseBtn = document.getElementById('callModalCloseBtn');
    const callBackBtn = document.getElementById('callBackBtn');
    const emailModalCloseBtn = document.getElementById('emailModalCloseBtn');
    const emailBackBtn = document.getElementById('emailBackBtn');

    // Handle MESSAGE option
    if (messageOption) {
        messageOption.addEventListener('click', function() {
            techSupportModal.classList.remove('active');
            messageModal.classList.add('active');
        });
    }

    // Handle CALL option
    if (callOption) {
        callOption.addEventListener('click', function() {
            techSupportModal.classList.remove('active');
            callModal.classList.add('active');
        });
    }

    // Handle EMAIL option
    if (emailOption) {
        emailOption.addEventListener('click', function() {
            techSupportModal.classList.remove('active');
            emailModal.classList.add('active');
        });
    }

    // Message Modal - Close button
    if (messageModalCloseBtn) {
        messageModalCloseBtn.addEventListener('click', function() {
            messageModal.classList.remove('active');
        });
    }

    // Message Modal - Back button
    if (messageBackBtn) {
        messageBackBtn.addEventListener('click', function() {
            messageModal.classList.remove('active');
            techSupportModal.classList.add('active');
        });
    }

    // Message Modal - Close when clicking on overlay
    if (messageModal) {
        messageModal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
    }

    // Call Modal - Close button
    if (callModalCloseBtn) {
        callModalCloseBtn.addEventListener('click', function() {
            callModal.classList.remove('active');
        });
    }

    // Call Modal - Back button
    if (callBackBtn) {
        callBackBtn.addEventListener('click', function() {
            callModal.classList.remove('active');
            techSupportModal.classList.add('active');
        });
    }

    // Call Modal - Close when clicking on overlay
    if (callModal) {
        callModal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
    }

    // Email Modal - Close button
    if (emailModalCloseBtn) {
        emailModalCloseBtn.addEventListener('click', function() {
            emailModal.classList.remove('active');
        });
    }

    // Email Modal - Back button
    if (emailBackBtn) {
        emailBackBtn.addEventListener('click', function() {
            emailModal.classList.remove('active');
            techSupportModal.classList.add('active');
        });
    }

    // Email Modal - Close when clicking on overlay
    if (emailModal) {
        emailModal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
    }

    // ESC key handler for modals
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            // If a secondary modal is open, go back to first modal
            if (messageModal && messageModal.classList.contains('active')) {
                messageModal.classList.remove('active');
                techSupportModal.classList.add('active');
            } else if (callModal && callModal.classList.contains('active')) {
                callModal.classList.remove('active');
                techSupportModal.classList.add('active');
            } else if (emailModal && emailModal.classList.contains('active')) {
                emailModal.classList.remove('active');
                techSupportModal.classList.add('active');
            } else if (techSupportModal && techSupportModal.classList.contains('active')) {
                // If first modal is open, close it
                techSupportModal.classList.remove('active');
            }
        }
    });
</script>

<!--Navigation Highlight Script for home services about -->
<script>
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll(".nav-link");

    navLinks.forEach(link => {
        if (link.getAttribute("href") === currentPath) {
            link.classList.add("active");
        }
    });
</script>